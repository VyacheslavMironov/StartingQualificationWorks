{% extends 'base.html' %}

{% block content %}

    <main role="main" class="container-fluid">
        <div class="card col-6 mx-auto p-4">
            <div class="row">
                <div class="col-12 text-center">
                    <h4 class="mb-4">
                        <strong>Отель "{{ name }}"</strong>
                    </h4>
                </div>

                <form method="POST" class="mx-auto d-block">
                    
                    <div class="mb-3">
                        <label class="form-label">Номер банковской карты</label>
                        <input id="card" maxlength="19" oninput="oncard()" type="text" class="form-control" placeholder="XXXX-XXXX-XXXX-XXXX">
                    </div>
                    <div class="row">
                        <div class="mb-3 col-6">
                            <label class="form-label">CVV</label>
                            <input maxlength="3" type="text" class="form-control" pattern="[0-9]{,3}" placeholder="***">
                        </div>
                        <div class="mb-3 col-6">
                            <label class="form-label">Дата</label>
                            <input id="date" maxlength="5" oninput="ondate()" type="text" class="form-control" placeholder="**/**">
                        </div>
                    </div>
                    <button type="submit" class="btn btn-primary">Забронировать</button>
                </form>
            </div>
        </div>
    </main>

    <script>
        function oncard(){
            var card = document.getElementById('card');
            if (card.value.length == 4){
                card.value += '-'
            }
            if (card.value.length == 9){
                card.value += '-'
            }
            if (card.value.length == 14){
                card.value += '-'
            }
        }

        function ondate(){
            var date = document.getElementById('date');
            if (date.value.length == 2 && date.value.length <= 3){
                date.value += '/'
            }
        }
    </script>
{% endblock %}